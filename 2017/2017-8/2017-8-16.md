# 知识扩展

## 分布式相关概念和框架

    集群、消息队列、微服务、分布式协调服务

## 数据库备用字段

    [原文链接](http://blog.csdn.net/hemin1003/article/details/68922375)
    在设计数据库的时候是否需要设计预留字段（备用）

#### 正反观点：需要

    原因：
    1. 持久层的设计，数据库表结构不应轻易变更。因此应设置备用字段。启用备用字段后，只修改代码，
    在代码中增加注释和并文档说明即可，不需要改动数据库结构，更方便。
    2. 如果没有备用字段，如果后期要加字段的话，用add column的方法会改变原先的数据库存储结构，
    造成数据移动，移动需要时间，而且会移动到其他数据块，add column会影响数据库性能。
    3. 对于反方提到的规范问题，只要代码和文档规范是可以避免这样的问题的，即使遇到这样的问题，
    也比修改表名带来的危险要小，除了要修改代码、存储过程、配置文件中的表名，还要考虑数据的迁移
    等问题，如此多的改动难免会出现这样那样的问题，因此保证系统的稳定性来看，携带几个扩展字段为
    了后续使用也无妨。

### 反方观点：不需要

    1. 如果要预留字段的话，第一个需要全面考虑的问题，如何评估：
        a. 预留多少个字段；
        b. 预留什么类型的；
        c. 预留的字段不适用怎么办――比如长度/精度不够；
        d. 预留的字段允许不允许空值呢；
    2. 数据库设置备用字段无法在字段名上体现其意义，不规范，后期维护麻烦。在需要增加字段的时候如果
    直接add column，也不会有太大工作，但能保证数据库字段的规范。虽然在启用备用字段的时候可以文档
    说明，但在POJO上对应其属性为attribute1，attribute2等，代码的可读性不强。而且，预留字段全部统一
    为varchar，也不太合适。
    3. 预留字段毕竟是数据库表字段，会占用数据库存储空间。
    4. 添加字段出现的性能问题，我之前的项目中一般都是定期对数据库进行数据整理、重组操作

### 解决方案

    其实上面的这种设计方式就是一种“过度设计”，我们应该做的就是“按需设计”，在经过详细有效的分析
    之后，在数据表中只放置必要的字段，而不要留出大量的备用字段。当需要增加相关的信息的时候，就要具
    体情况具体分析：
    1. 如果数量很少，而且信息的性质与原表密切相关，那么就可以直接在原表上增加字段，并将相关的数据
    更新进去；
    2. 如果数量较大，或者并非是原表对象至关重要的属性，那么就可以新增一个表，然后通过键值连接起来；
    3. 对于表的数据的存储位置所导致的性能问题，我们可以通过在特定时间对数据库的数据进行重组来解决，
    而这项工作对于长期运行的数据库来说，也是需要定期进行的。