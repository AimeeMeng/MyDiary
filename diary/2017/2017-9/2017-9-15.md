# 工作
## 相对路径
踩坑：一个后台程序用到了quartz定时调度框架，框架用到一个相对路径来指定配置文件，该后台程序正常启动的时候没有异常，而服务器中有一个守护进程服务（windows服务），守护程序作用是确保后台程序不宕机，如果宕机就直接重新启动，但是用守护进程启动程序的时候报错

可能原因：工作目录和应用程序所在目录问题，应用程序所在目录顾名思义就是在应用程序文件下，而工作目录有可能会变更，所以，应该是用服务来启动程序的时候，程序的工作目录变更为了服务所在目录，而quartz在查找配置文件时是从工作目录中查找的，所以找不到配置，log4net同样是通过相对路径来设置配置文件，但是查找的时候是从应用程序所在目录中查找的，所以没有异常。（以上纯属虚构，并不知道quartz是如何查找配置文件的。）

解决方案：相对路径改为绝对路径。当然在拼接为绝对路径的时候用应用程序所在目录来拼接，
```c#
string filePath =Path.Combine( AppDomain.CurrentDomain.BaseDirectory , "quartz_jobs.xml");
            properties["quartz.plugin.xml.fileNames"] = filePath;
```

在进行路径拼接的时候最好用Path.Combine,也是避免某些特殊情况下出现异常。